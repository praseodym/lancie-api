<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="/bower_components/polymer/polymer.html">

<link rel="import" href="/bower_components/iron-icons/iron-icons.html">

<link rel="import" href="/bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">
<link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/bower_components/iron-ajax/iron-ajax.html" />

<dom-module id="dashboard-user-table">
    <link rel="stylesheet" href="dashboard-user-table.css" />

    <template>
        <iron-ajax
                auto
                url="http://localhost:8080/users/"
                method="GET"
                headers='{ "Accept" : "*/*", "Authorization" : "Basic dXNlcjpwYXNzd29yZA=="}'
                handle-as="json"
                contentType="application/json"
                last-response="{{data}}"></iron-ajax>

        <table id="element-table">
            <thead>
                <tr class="title">
                    <th colspan="3">
                        <template is="dom-if" if="{{count}}">
                            <span>{{count}}</span> Item(s) selected
                        </template>
                    </th>
                    <th colspan="2">
                        <paper-icon-button icon="icons:add" on-tap="addNewItem"></paper-icon-button>
                        <paper-icon-button icon="icons:delete" on-tap="deleteSelection"></paper-icon-button>
                    </th>
                </tr>
                <tr class="header">
                    <th class="checkbox">
                        <paper-checkbox id="checkAll"></paper-checkbox>
                    </th>
                    <th>id</th>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Displayname</th>
                    <th class="name">Tournament</th>
                    <th class="description">Sponsors</th>
                    <th class="tags">Tags</th>
                    <th class="actions">Action</th>
                </tr>
            </thead>
            <tbody>
                <!-- REPEAT DATA-->
                <template is="dom-repeat" items="{{data}}">
                    <tr data-userid="{{item.id}}">
                        <td class="checkbox">
                            <paper-checkbox></paper-checkbox>
                        </td>
                        <td class="name">{{item.username}}</td>
                        <td class="description relative">{{item.email}}</td>
                        <td class="tags">{{item.role}}</td>
                        <td class="actions"></td>
                    </tr>
                </template>
            </tbody>
        </table>
    </template>

    <script src="dashboard-user-table.js"></script>
</dom-module>
